# Starlist アプリ 要件定義書

## 目次
1. [プロジェクト概要](#1-プロジェクト概要)
2. [システム要件](#2-システム要件)
3. [機能要件](#3-機能要件)
4. [課金・収益モデル](#4-課金収益モデル)
5. [UI/UX要件](#5-uiux要件)
6. [特殊機能要件](#6-特殊機能要件)
7. [非機能要件](#7-非機能要件)
8. [開発フェーズ](#8-開発フェーズ)
9. [技術スタック](#9-技術スタック)
10. [リスクと対策](#10-リスクと対策)
11. [成功指標](#11-成功指標)
12. [技術要件詳細](#12-技術要件詳細)

## 1. プロジェクト概要

### 1.1 プロジェクト名
Starlist（スターリスト）

### 1.2 プロジェクト目的
ユーザー（スター）のデジタルコンテンツ消費習慣を記録・共有し、ファンがそれを閲覧・サポートできるプラットフォームを構築する。スターとファンを繋ぐ新しいエコシステムを創造する。

### 1.3 ターゲットユーザー
- **スター**: コンテンツクリエイター、インフルエンサー、専門家、一般ユーザー（500フォロワー以上）
- **ファン**: 特定のスターの活動・趣味・消費習慣に興味を持つユーザー

## 2. システム要件

### 2.1 プラットフォーム
- **モバイルアプリ**: Flutter（iOS & Android対応）
- **バックエンド**: Supabase（PostgreSQL、認証、ストレージ）
- **アーキテクチャ**: クライアント-サーバーモデル、コードスプリッティングを積極採用

### 2.2 認証システム
- Google/Apple/Twitter/Instagramログイン
- スター認証システム（公式SNS連携、本人確認書類、二次認証）
- 一般人スター枠（フォロワー500人以上または審査制）

### 2.3 データベース設計
- ユーザープロファイルテーブル
- コンテンツ消費データテーブル
- ファン-スター関係テーブル
- サブスクリプション管理テーブル
- 投げ銭/トランザクションテーブル

### 2.4 基本性能要件
- 起動時間: 3秒以内
- ページ読み込み: 1.5秒以内
- 同時接続ユーザー: 最大100万人対応
- データ同期: リアルタイム/準リアルタイム

## 3. 機能要件

### 3.1 共通基本機能
- ユーザー登録・ログイン
- プロフィール設定
- アプリ内通知
- 検索・発見機能

### 3.2 スター向け機能

#### 3.2.1 データ連携
- **YouTube関連情報**: フォローチャンネル、視聴履歴
- **音楽データ**: Spotify/Amazon Music再生履歴、視聴時間分析
- **映像コンテンツ**: Netflix/各種VOD視聴履歴
- **書籍データ**: 読書履歴（電子書籍・紙の書籍）
- **購入履歴**: Amazon/楽天など
- **アプリ使用状況**: スマホアプリ使用時間
- **SNS活動**: Twitter/Instagram/TikTokなどの活動履歴
- **ゲーム**: プレイ中のゲーム、プレイ時間

#### 3.2.2 データ管理・公開
- データ連携設定（連携サービス選択、同期頻度）
- データプライバシー設定（公開/非公開設定）
- データ分析ダッシュボード（消費傾向分析）
- コンテンツ推薦設定

#### 3.2.3 収益機能
- サブスクリプション管理
- 投げ銭受け取り
- スポンサー管理
- 収益レポート

### 3.3 ファン向け機能

#### 3.3.1 スター閲覧・フォロー
- スター検索
- スタープロフィール閲覧
- スターのコンテンツ消費履歴閲覧
- スターフォロー機能
- お気に入りスターリスト

#### 3.3.2 サポート機能
- サブスクリプション購入
- 投げ銭機能
- スポンサー登録
- ギフト送信

#### 3.3.3 コミュニケーション
- コメント機能
- スターへのメッセージ送信（サブスク限定）
- コミュニティ参加

## 4. 課金・収益モデル

### 4.1 サブスクリプション
- **ベーシック**: 月額500円（広告なし、基本機能）
- **プレミアム**: 月額1,200円（全機能、優先サポート）
- **ファミリー**: 月額2,000円（5アカウントまで）

### 4.2 投げ銭システム
- 最小100円から最大10万円まで
- プラットフォーム手数料: 10%
- スター取り分: 90%

### 4.3 スポンサーシップ
- 企業スポンサー枠（月額10万円〜）
- 個人スポンサー枠（月額1万円〜）

### 4.4 広告収益
- ターゲット広告（無料ユーザー向け）
- スポンサードコンテンツ

## 5. UI/UX要件

### 5.1 デザインコンセプト
- モダンでクリーンなデザイン
- ダークモード/ライトモード対応
- アクセシビリティ対応

### 5.2 主要画面
- スプラッシュ画面
- オンボーディング画面
- ホーム画面（フィード）
- プロフィール画面
- 検索・発見画面
- カテゴリー画面
- 詳細画面
- 設定画面

### 5.3 ナビゲーション
- ボトムタブナビゲーション
- スワイプジェスチャー
- プルダウンリフレッシュ

### 5.4 アニメーション
- 画面遷移アニメーション
- マイクロインタラクション
- スケルトンローディング

## 6. 特殊機能要件

### 6.1 リコメンデーションエンジン
- 協調フィルタリング
- コンテンツベースフィルタリング
- ハイブリッドアプローチ

### 6.2 データ分析
- 消費傾向分析
- 時間帯別分析
- ジャンル分析
- 相関分析

### 6.3 コンテンツ同期
- バックグラウンド同期
- 定期同期スケジュール
- 手動同期オプション

### 6.4 オフライン機能
- キャッシュデータ閲覧
- オフラインキュー（投げ銭など）

## 7. 非機能要件

### 7.1 セキュリティ
- エンドツーエンド暗号化（メッセージ）
- データ暗号化（保存時）
- 二要素認証
- セキュリティ監査

### 7.2 パフォーマンス
- コールドスタート最適化
- 画像最適化
- メモリ使用量最適化
- バッテリー消費最適化

### 7.3 スケーラビリティ
- 水平スケーリング対応
- マイクロサービスアーキテクチャ
- キャッシュ戦略

### 7.4 可用性
- 99.9%のサービス可用性
- 障害復旧計画
- バックアップ戦略

## 8. 開発フェーズ

### 8.1 フェーズ1（MVP）
- 基本認証機能
- 基本プロフィール機能
- YouTube連携
- 基本UI実装
- サブスクリプション基本機能

### 8.2 フェーズ2
- 追加データ連携（Spotify, Netflix）
- 投げ銭システム
- 詳細分析機能
- UX改善

### 8.3 フェーズ3
- 残りのデータ連携
- コミュニティ機能
- スポンサーシップ機能
- パフォーマンス最適化

### 8.4 フェーズ4
- AIリコメンデーション
- 高度な分析ダッシュボード
- API公開（パートナー向け）
- 国際化対応

## 9. 技術スタック

### 9.1 フロントエンド
- Flutter/Dart
- Provider/Riverpod（状態管理）
- GetIt（依存性注入）
- Dio（HTTP通信）

### 9.2 バックエンド
- Supabase（BaaS）
- PostgreSQL
- Firebase Cloud Functions（必要に応じて）

### 9.3 インフラ
- AWS/GCP
- CDN
- CI/CD（GitHub Actions）

### 9.4 モニタリング
- Firebase Analytics
- Crashlytics
- カスタムログ収集

## 10. リスクと対策

### 10.1 技術的リスク
- データ連携API変更: 抽象化レイヤーの実装
- パフォーマンス問題: 早期からのプロファイリング

### 10.2 ビジネスリスク
- ユーザー獲得: インフルエンサーマーケティング戦略
- 収益化: 段階的な収益モデル導入

### 10.3 法的リスク
- プライバシー規制: 法律専門家のレビュー
- 著作権問題: コンテンツポリシーの明確化

## 11. 成功指標

### 11.1 ユーザー指標
- 月間アクティブユーザー（MAU）
- ユーザー継続率
- スター数
- ファン数

### 11.2 エンゲージメント指標
- 平均セッション時間
- 投げ銭頻度
- サブスクリプション率
- コンテンツ閲覧数

### 11.3 ビジネス指標
- 月間売上高
- ユーザーあたりの平均収益（ARPU）
- 顧客獲得コスト（CAC）
- 顧客生涯価値（LTV）

## 12. 技術要件詳細

### 12.1 API統合
- YouTube Data API v3
- Spotify Web API
- Netflix Viewing Activity API
- Amazon Product Advertising API
- Twitter API v2
- Instagram Graph API

### 12.2 認証方式
- OAuth 2.0
- JWT
- ソーシャルログイン

### 12.3 データ同期戦略
- 差分同期
- バッチ処理
- WebSocketリアルタイム更新

### 12.4 キャッシュ戦略
- メモリキャッシュ
- ディスクキャッシュ
- 階層化キャッシュ
